<app-navbar></app-navbar>

<div class="single">
  <div class="container">
    <div class="row">
      <div class="col-lg-8">
        <div class="single-content">
          <img
            [src]="mainImage"
            alt="Main Post Image"
            style="width: 800px; height: 500px"
          />
          <h2>{{ postTitle }}</h2>
          <p>{{ postContent }}</p>
          <div class="share-buttons">
            <button class="btn btn-facebook" (click)="shareOnFacebook()" title="Share on Facebook">
              <i class="fab fa-facebook-f mx-2"></i> Share on Facebook
            </button>
            <button class="btn btn-x " (click)="shareOnX()" title="Share on X">
              <i class="fab fa-twitter mx-2"></i> Share on X
            </button>
        </div>
        </div>
        <hr />
        <!-- Comments Section -->
        <div class="comments-section">
          <h3>Comments</h3>
          <div *ngFor="let comment of comments">
            <div class="comment d-flex align-items-start">
              <img
                *ngIf="comment.user?.profile_picture"
                [src]="getProfilePictureUrl(comment.user.profile_picture)"
                alt="Profile Picture"
                class="profile-picture"
                style="
                  width: 50px;
                  height: 50px;
                  border-radius: 50%;
                  margin-right: 10px;
                "
              />
              <div>
                <strong>{{ comment.user?.name }}</strong>
                <!-- Display the user's name -->
                <p>{{ comment.content }}</p>
                <small>{{ comment.created_at | date : "short" }}</small>

              </div>
            </div>
          </div>

          <h4>Leave a comment</h4>
          <form
            (ngSubmit)="submitComment()"
            #commentForm="ngForm"
            class="comment-form"
          >
            <textarea
              required
              [(ngModel)]="commentContent"
              name="content"
              placeholder="Your comment"
              rows="3"
              class="comment-input"
            ></textarea>
            <button
              type="submit"
              [disabled]="!commentForm.valid"
              class="comment-btn"
            >
              Post Comment
            </button>
          </form>
        </div>
      </div>

      <div class="col-lg-4">
        <div class="sidebar">
          <div class="sidebar-widget">
            <h2 class="widget-title">Recent Posts</h2>
            <div class="recent-post">
              <div class="post-item" *ngFor="let post of recentPosts">
                <div class="post-img">
                  <img [src]="post.image" alt="Recent Post Image" />
                </div>
                <div class="post-text">
                  <a (click)="onPostClick(post.id)" style="cursor: pointer">{{
                    post.title
                  }}</a>
                  <p class="post-snippet">
                    {{ post.content | slice : 0 : 20 }}...
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Footer Start -->
<div class="container-fluid bg-dark text-white-50 footer mt-5 py-5 px-0">
  <div class="container py-5">
    <div class="row g-5">
      <div class="col-lg-3 col-md-6">
        <h5 class="text-white mb-4">Get In Touch</h5>
        <p class="mb-2">
          <i class="fa fa-map-marker-alt me-3"></i>Cairo, Egypt
        </p>
        <p class="mb-2"><i class="fa fa-phone-alt me-3"></i>+012 345 67890</p>
        <p class="mb-2"><i class="fa fa-envelope me-3"></i>judur.com</p>
      </div>
      <div class="col-lg-3 col-md-6">
        <h5 class="text-white mb-4">Quick Links</h5>
        <a class="btn btn-link text-white-50" href="#">About Us</a>
        <a class="btn btn-link text-white-50" href="#">Contact Us</a>
        <a class="btn btn-link text-white-50" href="#">Our Services</a>
        <a class="btn btn-link text-white-50" href="#">Privacy Policy</a>
        <a class="btn btn-link text-white-50" href="#">Terms & Conditions</a>
      </div>
      <div class="col-lg-3 col-md-6">
        <h5 class="text-white mb-4">Our Services</h5>
        <a class="btn btn-link text-white-50" href="#">Donation Management</a>
        <a class="btn btn-link text-white-50" href="#">Auction Services</a>
        <a class="btn btn-link text-white-50" href="#">Real-Time Updates</a>
        <a class="btn btn-link text-white-50" href="#">Secure Payments</a>
        <a class="btn btn-link text-white-50" href="#">Community Engagement</a>
      </div>
      <div class="col-lg-3 col-md-6">
        <h5 class="text-white mb-4">Newsletter</h5>
        <p>
          Stay updated with the latest from Judur by subscribing to our
          newsletter.
        </p>
        <div class="position-relative w-100">
          <input
            class="form-control bg-transparent w-100 py-3 ps-4 pe-5"
            type="text"
            placeholder="Your email"
          />
          <button
            type="button"
            class="btn btn-primary py-2 position-absolute top-0 end-0 mt-2 me-2"
          >
            Subscribe
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- Footer End -->
